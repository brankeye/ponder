# source: http://0.0.0.0:3000/graphql
# timestamp: Thu May 17 2018 22:07:26 GMT-0400 (EDT)

type Author implements AuthorContract {
  id: ID
  name: String
  inLibrary: Boolean
  poems: [PoemDetails]
}

enum AuthorCategory {
  Default
  Library
}

type AuthorConnection {
  edges: [AuthorEdge]
  pageInfo: PageInfo!
}

interface AuthorContract {
  id: ID
  name: String
  inLibrary: Boolean
}

type AuthorDetails implements AuthorContract {
  id: ID
  name: String
  inLibrary: Boolean
}

type AuthorEdge {
  cursor: String!
  node: Author
}

type AuthorInfo {
  id: ID!
  inLibrary: Boolean!
  viewedAt: Date!
}

input AuthorInfoInput {
  id: ID!
  inLibrary: Boolean!
}

scalar Date

type Mutation {
  userRegister(input: UserInput!): User
  authorUpsert(input: AuthorInfoInput!): AuthorInfo
  poemUpsert(input: PoemInfoInput!): PoemInfo
}

type PageInfo {
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: String
  endCursor: String
}

type Poem implements PoemContract {
  id: ID
  title: String
  teaser: [String]
  classification: String
  region: String
  period: String
  lines: [String]
  keywords: [String]
  inLibrary: Boolean
  author: AuthorDetails
}

enum PoemCategory {
  Default
  Library
}

type PoemConnection {
  edges: [PoemEdge]
  pageInfo: PageInfo!
}

interface PoemContract {
  id: ID
  title: String
  teaser: [String]
  classification: String
  region: String
  period: String
  lines: [String]
  keywords: [String]
  inLibrary: Boolean
}

type PoemDetails implements PoemContract {
  id: ID
  title: String
  teaser: [String]
  classification: String
  region: String
  period: String
  lines: [String]
  keywords: [String]
  inLibrary: Boolean
}

type PoemEdge {
  cursor: String!
  node: Poem
}

type PoemInfo {
  id: ID
  inLibrary: Boolean
  viewedAt: Date
}

input PoemInfoInput {
  id: ID!
  inLibrary: Boolean!
}

type Query {
  user: User
  author(id: ID): Author
  authorList(from: AuthorCategory!, search: String, first: Int, after: String, last: Int, before: String): AuthorConnection
  poem(id: ID): Poem
  poemList(from: PoemCategory!, search: String, first: Int, after: String, last: Int, before: String): PoemConnection
}

type User {
  id: ID
  email: String
}

input UserInput {
  email: String!
  oauthId: ID!
}
